<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Dokumentasi API — Education</title>
  <link rel="stylesheet" href="style2.css">
</head>
<body>

      <!-- Section Education -->
      <section class="card" id="education" aria-labelledby="education-title">
        <div class="card-header" id="education-title">Dokumentasi API — Education</div>

        <div class="table-wrapper">
          <table class="table" aria-describedby="education-title">
            <thead>
              <tr>
                <th>No</th>
                <th>Feature Name</th>
                <th>Request Method</th>
                <th>Description</th>
                <th>Query Parameter</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="educationTableBody">
              <!-- Diisi lewat JS -->
            </tbody>
          </table>
        </div>
        <div id="educationResponsePanel" class="response" aria-live="polite" style="display:none"></div>
      </section>


      <!-- Code samples Wikipedia -->
      <section class="card">
        <div class="card-header">Contoh Kode — Wikipedia</div>
        <div class="tabs">
          <div class="tab-list" role="tablist" aria-label="Contoh kode Wikipedia">
            <button class="tab-btn active" role="tab" aria-selected="true" aria-controls="jsWikipedia" id="tabJSWikipedia">JavaScript</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="pyWikipedia" id="tabPyWikipedia">Python</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="goWikipedia" id="tabGoWikipedia">Golang</button>
          </div>

          <!-- JS -->
          <div id="jsWikipedia" role="tabpanel" aria-labelledby="tabJSWikipedia" class="code">
      <pre><code class="language-js">

      // Wikipedia
      fetch("https://api2.teamhackbotsindo.my.id/api/wikipedia?q=bogor", {
        headers: { "x-api-key": apiKey }
      })
        .then(res => res.json())
        .then(data => console.log("Wikipedia:", data));
      </code></pre>
          </div>

          <!-- Python -->
          <div id="pyWikipedia" role="tabpanel" aria-labelledby="tabPyWikipedia" class="code" style="display:none">
      <pre><code class="language-python">
      import requests

      headers = { 
        "x-api-key": apiKey,
        "Origin": "https://teamhackbotsindo.my.id"
      }

      # Wikipedia
      resp = requests.get("https://api2.teamhackbotsindo.my.id/api/wikipedia?q=bogor", headers={"x-api-key": apiKey})
      print("Wikipedia:", resp.json())

      </code></pre>
          </div>

          <!-- Golang -->
          <div id="goWikipedia" role="tabpanel" aria-labelledby="tabGoWikipedia" class="code" style="display:none">
      <pre><code class="language-go">
      package main

      import (
        "fmt"
        "net/http"
        "io/ioutil"
      )

      func fetchAPI(url string, withOrigin bool) {
        client := &http.Client{}
        req, _ := http.NewRequest("GET", url, nil)
        req.Header.Set("x-api-key", apiKey)
        if withOrigin {
          req.Header.Set("Origin", "https://teamhackbotsindo.my.id")
        }

        resp, _ := client.Do(req)
        defer resp.Body.Close()

        body, _ := ioutil.ReadAll(resp.Body)
        fmt.Println(url, ":", string(body))
      }

      func main() {
        fetchAPI("https://api2.teamhackbotsindo.my.id/api/wikipedia?q=bogor", false)
      }
      </code></pre>
          </div>
        </div>
      </section>

  <script>
    // API-Education
    const educationEndpoints = [
      { no: 1, name: "Wikipedia", method: "GET", desc: "Cari artikel dari Wikipedia", query: "apikey, q" }
    ];

    document.addEventListener('DOMContentLoaded', () => {
      const educationBody = document.getElementById('educationTableBody');
      educationEndpoints.forEach(ep => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${ep.no}</td>
          <td>${ep.name}</td>
          <td><span class="badge ${ep.method}">${ep.method}</span></td>
          <td>${ep.desc}</td>
          <td>${ep.query}</td>
          <td><button class="btn" onclick="tryEducation('${ep.name}')">Try</button></td>
        `;
        educationBody.appendChild(tr);
      });
    });
    function tryEducation(feature) {
      const panel = document.getElementById('educationResponsePanel');
      panel.style.display = 'block';
      panel.textContent = `⚡ Menjalankan ${feature}...`;

      const apiKey = document.getElementById('apiKeyInput')?.value || "";
      if (!apiKey) {
        panel.textContent = "Error: API key wajib diisi!";
        return;
      }

      let url = "";
      switch (feature) {
        case "Wikipedia":
          url = `https://api2.teamhackbotsindo.my.id/api/wikipedia?q=bogor`;
          break;
      }

      fetch(url, { headers: { "x-api-key": apiKey } })
        .then(res => res.json())
        .then(data => {
          const articles = data.result || [];
          if (!articles.length) {
            panel.textContent = "Tidak ada artikel ditemukan.";
            return;
          }
          let html = "<ul>";
          articles.forEach(a => {
            html += `
              <li>
                <p><strong>${a.title || "-"}</strong></p>
                <p>${a.snippet || ""}</p>
                ${a.url ? `<p><a href="${a.url}" target="_blank">Baca selengkapnya</a></p>` : ""}
              </li>
            `;
          });
          html += "</ul>";
          panel.innerHTML = html;
        })
        .catch(err => panel.textContent = "Error: " + err);
    }

    // TAB WIKIPEDIA
    const tabJSWikipedia = document.getElementById('tabJSWikipedia');
    const tabPyWikipedia = document.getElementById('tabPyWikipedia');
    const tabGoWikipedia = document.getElementById('tabGoWikipedia');

    const jsWikipedia = document.getElementById('jsWikipedia');
    const pyWikipedia = document.getElementById('pyWikipedia');
    const goWikipedia = document.getElementById('goWikipedia');

    function showWikipedia(tab) {
      [tabJSWikipedia, tabPyWikipedia, tabGoWikipedia].forEach(btn => btn.classList.remove('active'));
      [jsWikipedia, pyWikipedia, goWikipedia].forEach(panel => panel.style.display = 'none');

      tab.classList.add('active');
      document.getElementById(tab.getAttribute('aria-controls')).style.display = 'block';
    // Sinkronisasi dengan sidebar
      const targetId = tab.getAttribute('aria-controls');
      const sidebarLink = document.querySelector(`.sidebar .nav-list a[href="#${targetId}"]`);
      if (sidebarLink) {
        document.querySelectorAll('.sidebar .nav-list a').forEach(link => link.classList.remove('active'));
        sidebarLink.classList.add('active');
      }
    }

    tabJSWikipedia.addEventListener('click', () => showWikipedia(tabJSWikipedia));
    tabPyWikipedia.addEventListener('click', () => showWikipedia(tabPyWikipedia));
    tabGoWikipedia.addEventListener('click', () => showWikipedia(tabGoWikipedia));

  </script>
</body>
</html> 