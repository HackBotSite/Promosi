<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Dokumentasi API — Entertainment</title>
  <link rel="stylesheet" href="style2.css">
</head>
<body>
      <!-- Section Entertainment -->
      <section class="card" id="entertainment" aria-labelledby="entertainment-title">
        <div class="card-header" id="entertainment-title">Dokumentasi API — Entertainment</div>

        <div class="table-wrapper">
          <table class="table" aria-describedby="entertainment-title">
            <thead>
              <tr>
                <th>No</th>
                <th>Feature Name</th>
                <th>Request Method</th>
                <th>Description</th>
                <th>Query Parameter</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="entertainmentTableBody">
              <!-- Diisi lewat JS -->
            </tbody>
          </table>
        </div>
        <div id="entertainmentResponsePanel" class="response" aria-live="polite" style="display:none"></div>
      </section>

      <!-- Code samples Jadwal Tv -->
      <section class="card">
        <div class="card-header">Contoh Kode — Jadwal Tv</div>
        <div class="tabs">
          <div class="tab-list" role="tablist" aria-label="Contoh kode Jadwal Tv">
            <button class="tab-btn active" role="tab" aria-selected="true" aria-controls="jsjadwalTv" id="tabJSjadwalTv">JavaScript</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="pyjadwalTv" id="tabPyjadwalTv">Python</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="gojadwalTv" id="tabGojadwalTv">Golang</button>
          </div>

          <!-- JS -->
          <div id="jsjadwalTv" role="tabpanel" aria-labelledby="tabJSjadwalTv" class="code">
      <pre><code class="language-js">
      // Jadwal Tv
      const apiKey = "YOUR_API_KEY";
      fetch("https://api2.teamhackbotsindo.my.id/api/jadwalTv?channel=rcti", {
        headers: { "x-api-key": apiKey }
      })
        .then(res => res.json())
        .then(data => console.log("Jadwal Tv:", data))
        .catch(err => console.error(err));
      </code></pre>
          </div>

          <!-- Python -->
          <div id="pyjadwalTv" role="tabpanel" aria-labelledby="tabPyjadwalTv" class="code" style="display:none">
      <pre><code class="language-python">
      import requests

      apiKey = "YOUR_API_KEY"
      url = "https://api2.teamhackbotsindo.my.id/api/jadwalTv?channel=rcti"
      resp = requests.get(url, headers={"x-api-key": apiKey})
      print(resp.json())
      </code></pre>
          </div>

          <!-- Golang -->
          <div id="gojadwalTv" role="tabpanel" aria-labelledby="tabGojadwalTv" class="code" style="display:none">
      <pre><code class="language-go">
      package main

      import (
        "fmt"
        "net/http"
        "io/ioutil"
      )

      func main() {
        apiKey := "YOUR_API_KEY"
        url := "https://api2.teamhackbotsindo.my.id/api/jadwalTv?channel=rcti"

        client := &http.Client{}
        req, _ := http.NewRequest("GET", url, nil)
        req.Header.Set("x-api-key", apiKey)

        resp, _ := client.Do(req)
        defer resp.Body.Close()

        body, _ := ioutil.ReadAll(resp.Body)
        fmt.Println(string(body))
      }
      </code></pre>
          </div>
        </div>
      </section>

      <!-- Code samples Jadwal Bola -->
      <section class="card">
        <div class="card-header">Contoh Kode — Jadwal Bola</div>
        <div class="tabs">
          <div class="tab-list" role="tablist" aria-label="Contoh kode Jadwal Tv">
            <button class="tab-btn active" role="tab" aria-selected="true" aria-controls="jsjadwalBola" id="tabJSjadwalBola">JavaScript</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="pyjadwalBola" id="tabPyjadwalBola">Python</button>
            <button class="tab-btn" role="tab" aria-selected="false" aria-controls="gojadwalBola" id="tabGojadwalBola">Golang</button>
          </div>

          <!-- JS -->
          <div id="jsjadwalBola" role="tabpanel" aria-labelledby="tabJSjadwalBola" class="code">
      <pre><code class="language-js">
      // Jadwal Bola
      const apiKey = "YOUR_API_KEY";
      fetch("https://api2.teamhackbotsindo.my.id/api/jadwalBola", {
        headers: { "x-api-key": apiKey }
      })
        .then(res => res.json())
        .then(data => console.log("Jadwal Bola:", data))
        .catch(err => console.error(err));
      </code></pre>
          </div>

          <!-- Python -->
          <div id="pyjadwalBola" role="tabpanel" aria-labelledby="tabPyjadwalBola" class="code" style="display:none">
      <pre><code class="language-python">
      import requests

      apiKey = "YOUR_API_KEY"
      url = "https://api2.teamhackbotsindo.my.id/api/jadwalBola"
      resp = requests.get(url, headers={"x-api-key": apiKey})
      print(resp.json())
      </code></pre>
          </div>

          <!-- Golang -->
          <div id="gojadwalBola" role="tabpanel" aria-labelledby="tabGojadwalBola" class="code" style="display:none">
      <pre><code class="language-go">
      package main

      import (
        "fmt"
        "net/http"
        "io/ioutil"
      )

      func main() {
        apiKey := "YOUR_API_KEY"
        url := "https://api2.teamhackbotsindo.my.id/api/jadwalBola"

        client := &http.Client{}
        req, _ := http.NewRequest("GET", url, nil)
        req.Header.Set("x-api-key", apiKey)

        resp, _ := client.Do(req)
        defer resp.Body.Close()

        body, _ := ioutil.ReadAll(resp.Body)
        fmt.Println(string(body))
      }
      </code></pre>
          </div>
        </div>
      </section>

  <script>
    // API-Entertainment
    const entertainmentEndpoints = [
      { no: 1, name: "Jadwal Tv", method: "GET", desc: "Jadwal TV Harian / channel", query: ["apikey", "channel"] },
      { no: 2, name: "Jadwal Bola", method: "GET", desc: "Jadwal Bola Terupdate", query: ["apikey"] }
    ];

    document.addEventListener('DOMContentLoaded', () => {
      const entertainmentBody = document.getElementById('entertainmentTableBody');
      entertainmentEndpoints.forEach(ep => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${ep.no}</td>
          <td>${ep.name}</td>
          <td><span class="badge ${ep.method}">${ep.method}</span></td>
          <td>${ep.desc}</td>
          <td>${Array.isArray(ep.query) ? ep.query.join(", ") : ep.query}</td>
          <td><button class="btn" onclick="tryentertainment('${ep.name}')">Try</button></td>
        `;
        entertainmentBody.appendChild(tr);
      });
    });
    function tryentertainment(feature) {
      const panel = document.getElementById('entertainmentResponsePanel');
      panel.style.display = 'block';
      panel.textContent = `⚡ Menjalankan ${feature}...`;

      const apiKey = document.getElementById('apiKeyInput')?.value || "";
      if (!apiKey) {
        panel.textContent = "Error: API key wajib diisi!";
        return;
      }

      let url = "";
      switch (feature) {
        case "Jadwal Tv":
          const channel = document.getElementById('channelInput')?.value || "rcti";
          url = `https://api2.teamhackbotsindo.my.id/api/jadwalTv?channel=${channel}`;
          break;
        case "Jadwal Bola":
          url = `https://api2.teamhackbotsindo.my.id/api/jadwalBola`;
          break;
      }

      fetch(url, { headers: { "x-api-key": apiKey } })
        .then(async res => {
          const raw = await res.text();
          try {
            return JSON.parse(raw);
          } catch {
            return { error: "Response bukan JSON", raw: raw.slice(0,200) };
          }
        })
        .then(data => {
          if (data.error) {
            panel.textContent = "Error: " + data.error;
            return;
          }
          panel.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
        })
        .catch(err => panel.textContent = "Error: " + err);
    }

    // TAB Jadwal Tv
    const tabJSjadwalTv = document.getElementById('tabJSjadwalTv');
    const tabPyjadwalTv = document.getElementById('tabPyjadwalTv');
    const tabGojadwalTv = document.getElementById('tabGojadwalTv');

    const jsjadwalTv = document.getElementById('jsjadwalTv');
    const pyjadwalTv = document.getElementById('pyjadwalTv');
    const gojadwalTv = document.getElementById('gojadwalTv');

    function showjadwalTv(tab) {
      [tabJSjadwalTv, tabPyjadwalTv, tabGojadwalTv].forEach(btn => btn.classList.remove('active'));
      [jsjadwalTv, pyjadwalTv, gojadwalTv].forEach(panel => panel.style.display = 'none');

      tab.classList.add('active');
      document.getElementById(tab.getAttribute('aria-controls')).style.display = 'block';
    // Sinkronisasi dengan sidebar
      const targetId = tab.getAttribute('aria-controls');
      const sidebarLink = document.querySelector(`.sidebar .nav-list a[href="#${targetId}"]`);
      if (sidebarLink) {
        document.querySelectorAll('.sidebar .nav-list a').forEach(link => link.classList.remove('active'));
        sidebarLink.classList.add('active');
      }
    }

    tabJSjadwalTv.addEventListener('click', () => showjadwalTv(tabJSjadwalTv));
    tabPyjadwalTv.addEventListener('click', () => showjadwalTv(tabPyjadwalTv));
    tabGojadwalTv.addEventListener('click', () => showjadwalTv(tabGojadwalTv));

    // TAB Jadwal Bola
    const tabJSjadwalBola = document.getElementById('tabJSjadwalBola');
    const tabPyjadwalBola = document.getElementById('tabPyjadwalBola');
    const tabGojadwalBola = document.getElementById('tabGojadwalBola');

    const jsjadwalBola = document.getElementById('jsjadwalBola');
    const pyjadwalBola = document.getElementById('pyjadwalBola');
    const gojadwalBola = document.getElementById('gojadwalBola');

    function showjadwalBola(tab) {
      [tabJSjadwalBola, tabPyjadwalBola, tabGojadwalBola].forEach(btn => btn.classList.remove('active'));
      [jsjadwalBola, pyjadwalBola, gojadwalBola].forEach(panel => panel.style.display = 'none');

      tab.classList.add('active');
      document.getElementById(tab.getAttribute('aria-controls')).style.display = 'block';
    // Sinkronisasi dengan sidebar
      const targetId = tab.getAttribute('aria-controls');
      const sidebarLink = document.querySelector(`.sidebar .nav-list a[href="#${targetId}"]`);
      if (sidebarLink) {
        document.querySelectorAll('.sidebar .nav-list a').forEach(link => link.classList.remove('active'));
        sidebarLink.classList.add('active');
      }
    }

    tabJSjadwalBola.addEventListener('click', () => showjadwalBola(tabJSjadwalBola));
    tabPyjadwalBola.addEventListener('click', () => showjadwalBola(tabPyjadwalBola));
    tabGojadwalBola.addEventListener('click', () => showjadwalBola(tabGojadwalBola));

  </script>
</body>
</html> 